<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>BONJOUR</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="/Content/Site.css">
    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>-->
</head>
<body>
    <!-- https://disic.github.io/guide-developpeur/9-utiliser-aria.html -->
    <!-- https://w3c.github.io/using-aria/ -->
    <!-- https://www.w3.org/WAI/ARIA/apg/ -->
    <!-- https://www.w3.org/WAI/ARIA/apg/practices/landmark-regions/ -->
    <!-- https://validator.w3.org/nu/ -->
    <!-- https://www.w3.org/WAI/ARIA/apg/practices/keyboard-interface/ -->

    <h3>heading Ad h3</h3>

    <span id="blabel" hidden>aria label </span>
    <span id="bdescr" hidden>aria description </span>
    <span role="definition" id="bdetails" >aria les détails role definition</span>
    <span role="comment" id="bdetails2" >aria les détails role comment </span>

    <span id="bdescr1" hidden>aria description </span>

    <div role="button" aria-labelledby="blabel">ALA</div>

    <div role="button" aria-describedby="bdescr">ADE</div>

    <div role="button" aria-labelledby="blabel" aria-describedby="bdescr">ALAADE</div>

    <div role="term" aria-details="bdetails">DETAILS</div>

    <input type="button" value="click 3" aria-describedby="bdescr1" />

    <input type="button" value="click" />

    <span hidden id="is3">intitulé section 3</span>
    <div id="section3" role="region" aria-labelledby="is2">
        ceci est une section 3 avec attribut role region
        <i>italique</i>
        <div>
            texte div dans une section
            <div>texte div <b>dans une div</b> </div>
        </div>
    </div>

    <input type="text" readonly value="bonjour">

    <br />

    <textarea readonly id="story" name="story" rows="5" cols="33">
        It was a dark and stormy night...
    </textarea>

    <br />

    <section>
        ceci est une section 1
        <b>texte en gras</b>
        <div>texte div dans une section </div>
        <div>
            texte div dans une section
            <div>
                <b>sous div </b> dans un div
            </div>
        </div>
    </section>

    <hr style="border: 1px solid red;" />

    <span hidden id="is1">intitulé section 1</span>
    <section aria-labelledby="is1" tabindex="0" id="s1">
        ceci est une section 1 element html section
        <i>italique</i>
        <div>texte div dans une section </div>
    </section>

    <hr style="border: 1px solid aquamarine;" />

    <span hidden id="is2">intitulé section 2</span>
    <section aria-labelledby="is2">
        ceci est une section 2 element html section
        <i>italique</i>
        <div>texte div dans une section </div>
    </section>

    <hr style="border: 1px solid yellow;" />



    <div id="b1">BONJOUR SELECTION</div>

    <hr style="border: 1px solid orange;" />
    



    <script>
        //$(function () {
        //    console.log('charge page');

        //})

        const sec1 = document.getElementById("s1");

        sec1.addEventListener("keydown", logKey);
        //sec1.addEventListener("keyup", logKey2);
        //sec1.addEventListener("click", (event) => {
        //    console.log(`Click count: ${event.detail}`);
        //});

        const myFunctionReference = function () {
            console.log('CLICK S1');
            const r2 = document.createRange();
            const referenceNode = document.querySelector("#s1");
            r2.selectNodeContents(referenceNode);
            window.getSelection().removeAllRanges();
            window.getSelection().addRange(r2);
        }
        sec1.addEventListener('click', myFunctionReference, false);



        //sec1.addEventListener("click", logclick);
        function logclick(e) {
            console.log(` ${e.d}`);
            if (e.code == 'Space') {
                console.log('touche space');
                const r = document.createRange();
                const referenceNode = document.querySelector("#s1");
                r.selectNodeContents(referenceNode);
                window.getSelection().removeAllRanges();
                window.getSelection().addRange(r);
            }
        }

        function logKey(e) {
            console.log(` ${e.code}`);
            if (e.code == 'Space') {
                console.log('touche space');
                const r = document.createRange();
                const referenceNode = document.querySelector("#s1");
                r.selectNodeContents(referenceNode);
                window.getSelection().removeAllRanges();
                window.getSelection().addRange(r);
            }
        }
        function logKey2(e) {
            console.log(` ${e.code}`);
        }


        window.onload = function () {
            console.log('bonjour');
            const elem = document.getElementById("section3");
            //elem.ariaSelected = "true";
            //elem.select();

            // ********** SELECTION EX 1 **********
            //let range = new Range();
            //const elem2 = document.getElementById("b1");
            //range.setStart(elem2.firstChild,8);
            //range.setEnd(elem2.firstChild, 17);

            //window.getSelection().removeAllRanges();
            //window.getSelection().addRange(range);

            // ********** SELECTION EX 2 **********

            const range = document.createRange();
            const referenceNode = document.querySelector("#section3");
            range.selectNodeContents(referenceNode);
            window.getSelection().removeAllRanges();
            window.getSelection().addRange(range);

        };

        window.addEventListener("load", () => {
            console.log("This function is executed once the page is fully loaded");
        });
   

    </script>

</body>


</html>